# Datatransfer

Вам нужно импортировать данные из одного хранилища в другое, при этом вы знаете, что:
 - хранилище-источник позволяет работать одновременно только с одним читателем 
 - хранилище-приемник позволяет использовать сразу несколько писателей и записывает элементы почанково
  
Необходимо написать код, который будет асинхронно читать записи из одного хранилища и писать в другое. 
Если в ходе чтения произошла ошибка `ErrProducerFinished`, считайте, что все записи были прочтены. 
Если в ходе чтения или записи произошла любая другая ошибка, то трансфер надо завершить с этой ошибкой.

Также вы должны корректно обрабатывать отмену пришедшего вам на вход контекста:
кто-то из пользователей мог выставить на трансфер таймаут, и код должен завершиться с ошибкой `ctx.Err()`, если трансфер не был завершен по истечении таймаута контекста.

Проверка на истечение контекста происходит с помощью чтения из канала `ctx.Done()`. 
Самое частое использование -- ожидать одновременно двух или более болкирующих событий, одним из которых является отмена контекста:

```go
select {
case <-ctx.Done():
    return ctx.Err()
case data := <- dataChan:
    // do smth
...
}
```

Перед выполнением задачи рекомендуется ознакомиться с контрактом,
предоставляемым [context.Context](https://pkg.go.dev/context#Context)

В этой задаче вам могут пригодиться:
- [sync.WaitGroup](https://pkg.go.dev/sync#WaitGroup)
- [errors.Join](https://pkg.go.dev/errors#Join)
