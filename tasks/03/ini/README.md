# Простой парсер ini-файлов

```
[section1]
key = value
another_key = value

[section2]
new_key = old_value

[empty_section]
```

ini-файлы имеют очень простой, но нестандартизированный формат. 
Давайте опишем его формат таким образом:
- Файл состоит из пустых строк, строк с заголовками секций, и строк с парами ключ-значение. Любые другие строки считаются невалидными.
- Пустая строка может содержать произвольное количество пробельных символов.
- Имена заголовков секций находятся внутри квадратных скобок. До и после скобок может быть произвольное количество пробельных символов.
- Имена заголовков должны иметь ненулевую длину
- Пары ключ-значение разделены символом `=`. До и после символа `=` может находиться произвольное количество пробельных символов.
- Имена ключей и значений не могут содержать в себе символ `=`
- Ключи в секциях могут повторяться, нужно оставить в результате последнее значение, присвоенное ключу.
- Имена секций могут повторяться, если секция повторяется несколько раз, нужно объединить все повторения секции.


Реализуйте функцию `Parse(fileName string) (map[string]map[string]string, error)`, 
которая парсит ini-файл по пути `fileName` и возвращает хэш-таблицу с наборами ключ-значение (также в хэш-таблице), 
соответствующими именам секций. Пример результата для фрагмента ini-файла, расположенного выше:
```go
map[string]map[string]string{
    "section1": {
        "key": "value",
        "another_key": "value",
    },
    "section2": {
        "new_key": "old_value"
    },
}
```

В случае, если формат файла не соответствует описанным нами требованиям, 
вам необходимо вернуть ошибку `ErrFileIsMalformed`. 
Примеры невалидных файлов вы можете найти в тестах.

Для парсинга файла вам необходимо будет для начала прочитать его, 
а также, возможно, придется итерироваться по строкам файла. 
Ниже описан один из способов прочитать и вывести все строки из файла:

```go
package main

import (
    "bufio"
    "fmt"
    "log"
    "os"
)

const filePath = "some/file"

func PrintFile(fileName string) error {
    f, err := os.Open(fileName)
    if err != nil {
        return err
    }
    
    s := bufio.NewScanner(f)
    for s.Scan() {
        fmt.Println(s.Text())
    }
    
    err = s.Err()
    if err != nil {
        return err
    }
    return nil
}

func main() {
    err := PrintFile(filePath)
    if err != nil {
        log.Fatal(err)
    }
}
```

Вам могут пригодиться:
- [os.Open](https://pkg.go.dev/os#Open)
- [os.ReadFile](https://pkg.go.dev/os#ReadFile)
- [bytes.Reader](https://pkg.go.dev/bytes#Reader)
- [bufio.Scanner](https://pkg.go.dev/bufio#Scanner)
